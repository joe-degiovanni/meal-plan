<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Meals</title>
</head>
<body>
  <h1>10 Random Meals</h1>
<ul id="content">
  loading...
</ul>
</body>

<script>

  /**
   * Pick 10 random recipes from OurGroceries recipes
   */
  function loadDoc() {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
        var recipes = JSON.parse(this.responseText)["recipes"];
        recipes.sort((a, b) => 0.5 - Math.random());
        var selected = recipes.filter((value, index, array) => index < 10);
        var recipeNames = selected.map((recipe) => "<li>"+recipe.name+"</li>");
        document.getElementById("content").innerHTML = recipeNames.join("\n");
      }
    };
    xhttp.open("GET", "https://8zjnm7z4m6.execute-api.us-east-2.amazonaws.com/default/myMealPlan", true);
    xhttp.send();
  }

  loadDoc();
</script>
</html>
